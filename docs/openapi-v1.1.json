{
  "openapi": "3.1.0",
  "info": {
    "title": "BookStopper API",
    "version": "1.1.0"
  },
  "paths": {
    "/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Register",
        "operationId": "register_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                },
                "example": {
                  "id": 1,
                  "email": "user@example.com",
                  "name": "홍길동",
                  "nickname": "gildong",
                  "created_at": "2025-11-26T12:00:00Z"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "operationId": "login_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenPair"
                },
                "example": {
                  "access_token": "<access.jwt>",
                  "refresh_token": "<refresh.jwt>",
                  "token_type": "bearer"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh Token",
        "operationId": "refresh_token_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/RefreshRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenPair"
                },
                "example": {
                  "access_token": "<access.jwt>",
                  "refresh_token": "<refresh.jwt>",
                  "token_type": "bearer"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "로그아웃 (refresh 쿠키 삭제)",
        "operationId": "logout_auth_logout_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Me",
        "operationId": "me_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                },
                "example": {
                  "id": 1,
                  "email": "user@example.com",
                  "name": "홍길동",
                  "nickname": "gildong",
                  "created_at": "2025-11-26T12:00:00Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/auth/email-check": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "이메일 존재/가용성 확인",
        "operationId": "email_check_auth_email_check_get",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email",
              "description": "확인할 이메일 주소",
              "title": "Email"
            },
            "description": "확인할 이메일 주소"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailCheckResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reading/sessions": {
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "List Sessions",
        "operationId": "list_sessions_reading_sessions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionResponse"
                  },
                  "type": "array",
                  "title": "Response List Sessions Reading Sessions Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "reading"
        ],
        "summary": "읽기 세션 시작",
        "description": "start_page를 주지 않으면 서버가 최근 읽은 페이지(최근 이벤트→최근 세션 end_page→없으면 1)로 자동 설정합니다.",
        "operationId": "start_session_reading_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingSessionStartRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingSessionResponse"
                },
                "example": {
                  "id": 2,
                  "user_id": 1,
                  "book_id": 10,
                  "start_time": "2025-11-26T12:00:00Z",
                  "end_time": "2025-11-26T12:30:00Z",
                  "start_page": 1,
                  "end_page": 30,
                  "total_seconds": 1800,
                  "events": [
                    {
                      "id": 1,
                      "event_type": "PAGE_TURN",
                      "page": 15,
                      "occurred_at": "2025-11-26T12:15:00Z"
                    }
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/reading/sessions/{session_id}/events": {
      "post": {
        "tags": [
          "reading"
        ],
        "summary": "Add Event",
        "operationId": "add_event_reading_sessions__session_id__events_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingEventCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingEventResponse"
                },
                "example": {
                  "id": 1,
                  "event_type": "PAGE_TURN",
                  "page": 15,
                  "occurred_at": "2025-11-26T12:15:00Z"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reading/sessions/{session_id}/end": {
      "post": {
        "tags": [
          "reading"
        ],
        "summary": "End Session",
        "operationId": "end_session_reading_sessions__session_id__end_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingSessionEndRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingSessionResponse"
                },
                "example": {
                  "id": 2,
                  "user_id": 1,
                  "book_id": 10,
                  "start_time": "2025-11-26T12:00:00Z",
                  "end_time": "2025-11-26T12:30:00Z",
                  "start_page": 1,
                  "end_page": 30,
                  "total_seconds": 1800,
                  "events": [
                    {
                      "id": 1,
                      "event_type": "PAGE_TURN",
                      "page": 15,
                      "occurred_at": "2025-11-26T12:15:00Z"
                    }
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reading/sessions/{session_id}": {
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "Get Session",
        "operationId": "get_session_reading_sessions__session_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingSessionResponse"
                },
                "example": {
                  "id": 2,
                  "user_id": 1,
                  "book_id": 10,
                  "start_time": "2025-11-26T12:00:00Z",
                  "end_time": "2025-11-26T12:30:00Z",
                  "start_page": 1,
                  "end_page": 30,
                  "total_seconds": 1800,
                  "events": [
                    {
                      "id": 1,
                      "event_type": "PAGE_TURN",
                      "page": 15,
                      "occurred_at": "2025-11-26T12:15:00Z"
                    }
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/notes/": {
      "post": {
        "tags": [
          "notes"
        ],
        "summary": "Create Note",
        "operationId": "create_note_notes__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteCreateRequest"
              },
              "example": {
                "book_id": 10,
                "content": "중요한 부분"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                },
                "example": {
                  "id": 7,
                  "user_book_id": 3,
                  "content": "중요한 부분",
                  "created_date": "2025-11-26"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/notes/{note_id}": {
      "put": {
        "tags": [
          "notes"
        ],
        "summary": "Update Note",
        "operationId": "update_note_notes__note_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Note Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NoteUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteResponse"
                },
                "example": {
                  "id": 7,
                  "user_book_id": 3,
                  "content": "중요한 부분",
                  "created_date": "2025-11-26"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "notes"
        ],
        "summary": "Delete Note",
        "operationId": "delete_note_notes__note_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "note_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Note Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/notes/books/{book_id}": {
      "get": {
        "tags": [
          "notes"
        ],
        "summary": "List Notes For Book",
        "operationId": "list_notes_for_book_notes_books__book_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/NoteResponse"
                  },
                  "title": "Response List Notes For Book Notes Books  Book Id  Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/highlights/": {
      "post": {
        "tags": [
          "highlights"
        ],
        "summary": "Create Highlight",
        "operationId": "create_highlight_highlights__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HighlightCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HighlightResponse"
                },
                "example": {
                  "id": 8,
                  "user_book_id": 3,
                  "page": 13,
                  "sentence": "기억하고 싶은 문장",
                  "is_public": true,
                  "memo": "문장에 대한 개인 메모",
                  "created_date": "2025-11-26"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/highlights/{highlight_id}": {
      "put": {
        "tags": [
          "highlights"
        ],
        "summary": "Update Highlight",
        "operationId": "update_highlight_highlights__highlight_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "highlight_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Highlight Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HighlightUpdateRequest"
              },
              "example": {
                "memo": "수정된 하이라이트 메모"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HighlightResponse"
                },
                "example": {
                  "id": 8,
                  "user_book_id": 3,
                  "page": 13,
                  "sentence": "기억하고 싶은 문장",
                  "is_public": true,
                  "memo": "문장에 대한 개인 메모",
                  "created_date": "2025-11-26"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "highlights"
        ],
        "summary": "Delete Highlight",
        "operationId": "delete_highlight_highlights__highlight_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "highlight_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Highlight Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/highlights/books/{book_id}": {
      "get": {
        "tags": [
          "highlights"
        ],
        "summary": "List Highlights For Book",
        "operationId": "list_highlights_for_book_highlights_books__book_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/HighlightResponse"
                  },
                  "title": "Response List Highlights For Book Highlights Books  Book Id  Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/bookmarks/": {
      "post": {
        "tags": [
          "bookmarks"
        ],
        "summary": "Create Bookmark",
        "operationId": "create_bookmark_bookmarks__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookmarkCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookmarkResponse"
                },
                "example": {
                  "id": 9,
                  "user_book_id": 3,
                  "page": 14,
                  "memo": "다시 볼 부분",
                  "created_date": "2025-11-26"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/bookmarks/{bookmark_id}": {
      "delete": {
        "tags": [
          "bookmarks"
        ],
        "summary": "Delete Bookmark",
        "operationId": "delete_bookmark_bookmarks__bookmark_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "bookmark_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Bookmark Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "bookmarks"
        ],
        "summary": "Update Bookmark",
        "operationId": "update_bookmark_bookmarks__bookmark_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "bookmark_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Bookmark Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Payload"
              },
              "example": {
                "memo": "수정된 메모"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookmarkResponse"
                },
                "example": {
                  "id": 9,
                  "user_book_id": 3,
                  "page": 14,
                  "memo": "다시 볼 부분",
                  "created_date": "2025-11-26"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/bookmarks/books/{book_id}": {
      "get": {
        "tags": [
          "bookmarks"
        ],
        "summary": "List Bookmarks For Book",
        "operationId": "list_bookmarks_for_book_bookmarks_books__book_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookmarkResponse"
                  },
                  "title": "Response List Bookmarks For Book Bookmarks Books  Book Id  Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/": {
      "post": {
        "tags": [
          "reviews"
        ],
        "summary": "Create Review",
        "operationId": "create_review_reviews__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                },
                "example": {
                  "id": 5,
                  "user_book_id": 3,
                  "user_id": 1,
                  "book_id": 10,
                  "rating": 5,
                  "content": "엄청 재미있었어요",
                  "like_count": 0,
                  "is_spoiler": false,
                  "created_date": "2025-11-26",
                  "is_my_review": true,
                  "is_liked": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/reviews/upsert": {
      "post": {
        "tags": [
          "reviews"
        ],
        "summary": "리뷰 생성 또는 갱신",
        "operationId": "upsert_review_reviews_upsert_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                },
                "example": {
                  "id": 5,
                  "user_book_id": 3,
                  "user_id": 1,
                  "book_id": 10,
                  "rating": 5,
                  "content": "엄청 재미있었어요",
                  "like_count": 0,
                  "is_spoiler": false,
                  "created_date": "2025-11-26",
                  "is_my_review": true,
                  "is_liked": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/reviews/rating": {
      "patch": {
        "tags": [
          "reviews"
        ],
        "summary": "별점만 갱신",
        "operationId": "update_rating_only_reviews_rating_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "rating",
            "in": "query",
            "required": true,
            "schema": {
              "type": "number",
              "title": "Rating"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                },
                "example": {
                  "id": 5,
                  "user_book_id": 3,
                  "user_id": 1,
                  "book_id": 10,
                  "rating": 5,
                  "content": "엄청 재미있었어요",
                  "like_count": 0,
                  "is_spoiler": false,
                  "created_date": "2025-11-26",
                  "is_my_review": true,
                  "is_liked": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/{review_id}": {
      "put": {
        "tags": [
          "reviews"
        ],
        "summary": "Update Review",
        "operationId": "update_review_reviews__review_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                },
                "example": {
                  "id": 5,
                  "user_book_id": 3,
                  "user_id": 1,
                  "book_id": 10,
                  "rating": 5,
                  "content": "엄청 재미있었어요",
                  "like_count": 0,
                  "is_spoiler": false,
                  "created_date": "2025-11-26",
                  "is_my_review": true,
                  "is_liked": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "reviews"
        ],
        "summary": "Delete Review",
        "operationId": "delete_review_reviews__review_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "reviews"
        ],
        "summary": "리뷰 상세",
        "operationId": "get_review_detail_reviews__review_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                },
                "example": {
                  "id": 5,
                  "user_book_id": 3,
                  "user_id": 1,
                  "book_id": 10,
                  "rating": 5,
                  "content": "엄청 재미있었어요",
                  "like_count": 0,
                  "is_spoiler": false,
                  "created_date": "2025-11-26",
                  "is_my_review": true,
                  "is_liked": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/books/{book_id}": {
      "get": {
        "tags": [
          "reviews"
        ],
        "summary": "특정 책의 리뷰 목록",
        "operationId": "list_reviews_for_book_reviews_books__book_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReviewResponse"
                  },
                  "title": "Response List Reviews For Book Reviews Books  Book Id  Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/books/{book_id}/summary": {
      "get": {
        "tags": [
          "reviews"
        ],
        "summary": "Get Book Rating Summary",
        "operationId": "get_book_rating_summary_reviews_books__book_id__summary_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookRatingSummary"
                },
                "example": {
                  "book_id": 10,
                  "average_rating": 4.25,
                  "review_count": 20
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/{review_id}/like": {
      "post": {
        "tags": [
          "reviews"
        ],
        "summary": "리뷰 좋아요 토글",
        "operationId": "toggle_like_review_reviews__review_id__like_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/{review_id}/comments": {
      "get": {
        "tags": [
          "reviews"
        ],
        "summary": "리뷰 댓글 목록",
        "operationId": "list_review_comments_reviews__review_id__comments_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommentResponse"
                  },
                  "title": "Response List Review Comments Reviews  Review Id  Comments Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "reviews"
        ],
        "summary": "리뷰 댓글 작성",
        "operationId": "create_review_comment_reviews__review_id__comments_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponse"
                },
                "example": {
                  "id": 1,
                  "review_id": 5,
                  "user_id": 1,
                  "content": "동의합니다!",
                  "created_at": "2025-11-26T12:34:56Z"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reviews/comments/{comment_id}": {
      "delete": {
        "tags": [
          "reviews"
        ],
        "summary": "리뷰 댓글 삭제",
        "operationId": "delete_review_comment_reviews_comments__comment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Comment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/books/": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Create Book",
        "operationId": "create_book_books__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookResponse"
                },
                "example": {
                  "id": 10,
                  "isbn": "9781234567890",
                  "title": "예시 책 제목",
                  "publisher": "예시출판사",
                  "published_date": "2025-01-01",
                  "language": "ko",
                  "category": "Fiction",
                  "total_pages": 320
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Search Books",
        "operationId": "search_books_books__get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "제목/저자/출판사 부분검색",
              "default": "",
              "title": "Q"
            },
            "description": "제목/저자/출판사 부분검색"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookSearchResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Get Book Detail",
        "operationId": "get_book_detail_books__book_id__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookDetailResponse"
                },
                "example": {
                  "id": 10,
                  "isbn": "9781234567890",
                  "title": "예시 책 제목",
                  "publisher": "예시출판사",
                  "published_date": "2025-01-01",
                  "language": "ko",
                  "category": "Fiction",
                  "total_pages": 320,
                  "authors": [
                    "작가 A",
                    "작가 B"
                  ],
                  "average_rating": 4.6,
                  "review_count": 12
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/books/import/google": {
      "post": {
        "tags": [
          "books",
          "books"
        ],
        "summary": "Import From Google",
        "operationId": "import_from_google_books_import_google_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleImportResult"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/books/import/google/query": {
      "post": {
        "tags": [
          "books",
          "books"
        ],
        "summary": "Import From Google Query",
        "operationId": "import_from_google_query_books_import_google_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleQueryImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoogleImportResult"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/support/faqs": {
      "get": {
        "tags": [
          "support"
        ],
        "summary": "List Faqs",
        "operationId": "list_faqs_support_faqs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/FAQResponse"
                  },
                  "type": "array",
                  "title": "Response List Faqs Support Faqs Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "support"
        ],
        "summary": "Create Faq",
        "operationId": "create_faq_support_faqs_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FAQCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FAQResponse"
                },
                "example": {
                  "id": 1,
                  "question": "어떻게 사용하나요?",
                  "answer": "이렇게 사용합니다.",
                  "is_pinned": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/support/tickets": {
      "post": {
        "tags": [
          "support"
        ],
        "summary": "Create Ticket",
        "operationId": "create_ticket_support_tickets_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TicketCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TicketResponse"
                },
                "example": {
                  "id": 4,
                  "user_id": 1,
                  "title": "문의 제목",
                  "description": "문의 상세 내용",
                  "status": "open",
                  "created_at": "2025-11-26T12:00:00Z"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "support"
        ],
        "summary": "전체 문의 목록(관리자)",
        "operationId": "list_all_tickets_support_tickets_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TicketResponse"
                  },
                  "title": "Response List All Tickets Support Tickets Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/support/tickets/me": {
      "get": {
        "tags": [
          "support"
        ],
        "summary": "My Tickets",
        "operationId": "my_tickets_support_tickets_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TicketResponse"
                  },
                  "type": "array",
                  "title": "Response My Tickets Support Tickets Me Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/support/tickets/{ticket_id}/answer": {
      "patch": {
        "tags": [
          "support"
        ],
        "summary": "문의 답변 등록/종료(관리자)",
        "operationId": "answer_ticket_support_tickets__ticket_id__answer_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ticket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Ticket Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TicketAnswer"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TicketResponse"
                },
                "example": {
                  "id": 4,
                  "user_id": 1,
                  "title": "문의 제목",
                  "description": "문의 상세 내용",
                  "status": "open",
                  "created_at": "2025-11-26T12:00:00Z"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/reading-status/update": {
      "post": {
        "tags": [
          "reading-status"
        ],
        "summary": "읽기 상태 업데이트 (user_book_id 또는 book_id 지원)",
        "operationId": "update_status_reading_status_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/reading-status/summary/{book_id}": {
      "get": {
        "tags": [
          "reading-status"
        ],
        "summary": "Summary",
        "operationId": "summary_reading_status_summary__book_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/taste/overview": {
      "get": {
        "tags": [
          "taste"
        ],
        "summary": "Overview",
        "operationId": "overview_taste_overview_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/taste/options": {
      "get": {
        "tags": [
          "taste"
        ],
        "summary": "초기 취향 선택을 위한 카테고리/장르 옵션",
        "operationId": "taste_options_taste_options_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasteOptionsResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/taste/me": {
      "get": {
        "tags": [
          "taste"
        ],
        "summary": "사용자 취향 분석 여부 및 선택 결과",
        "operationId": "taste_me_taste_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasteStatusResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/taste/submit": {
      "post": {
        "tags": [
          "taste"
        ],
        "summary": "초기 취향(카테고리/장르) 제출",
        "operationId": "taste_submit_taste_submit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TasteSubmitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserTasteResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/auth/password-reset/request": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Request Reset",
        "operationId": "request_reset_auth_password_reset_request_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/password-reset/confirm": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Confirm Reset",
        "operationId": "confirm_reset_auth_password_reset_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetConfirm"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/search": {
      "post": {
        "tags": [
          "analytics"
        ],
        "summary": "Log Search",
        "operationId": "log_search_analytics_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchLogRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/analytics/views": {
      "post": {
        "tags": [
          "analytics"
        ],
        "summary": "Log View",
        "operationId": "log_view_analytics_views_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ViewLogRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/analytics/my-stats": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "사용자 독서/평점/선호 통계",
        "description": "선호 장르 UI는 sub_genres를 사용하세요. top_level_genres는 대분류(소설/시/에세이/만화/웹툰)로 표기용입니다. 모든 집계는 사용자 평점이 있는 리뷰만 포함되며, 반환 목록은 평균점수와 편수 기준으로 내림차순 정렬됩니다.",
        "operationId": "user_stats_analytics_my_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStatsResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/analytics/my-insights": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "사용자 인사이트/태그 (임시 AI 대체)",
        "operationId": "my_insights_analytics_my_insights_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInsightResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "analytics"
        ],
        "summary": "사용자 인사이트/태그 업서트(임시 저장)",
        "operationId": "upsert_my_insights_analytics_my_insights_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserInsightUpsert"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInsightResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/search/query": {
      "post": {
        "tags": [
          "search"
        ],
        "summary": "텍스트로 검색(책/작가) + 기록 저장",
        "operationId": "search_query_search_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResult"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/search/history": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "개인별 최근 검색어 목록",
        "operationId": "search_history_search_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SearchHistoryItem"
                  },
                  "title": "Response Search History Search History Get"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "search"
        ],
        "summary": "개인별 검색 기록 전체 삭제",
        "operationId": "clear_history_search_history_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/search/history/{history_id}": {
      "delete": {
        "tags": [
          "search"
        ],
        "summary": "개인별 검색 기록 단건 삭제",
        "operationId": "delete_history_item_search_history__history_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "history_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "History Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/search/barcode": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "바코드(ISBN)로 검색",
        "operationId": "search_barcode_search_barcode_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "isbn",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "ISBN-10/13, 하이픈 허용",
              "title": "Isbn"
            },
            "description": "ISBN-10/13, 하이픈 허용"
          },
          {
            "name": "auto_import",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "DB에 없으면 Google에서 가져와 저장",
              "default": true,
              "title": "Auto Import"
            },
            "description": "DB에 없으면 Google에서 가져와 저장"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BarcodeSearchResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/search/register-reading": {
      "post": {
        "tags": [
          "search"
        ],
        "summary": "검색 결과/바코드 팝업에서 '예' 선택 시 읽는 중 등록",
        "operationId": "register_reading_search_register_reading_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/library/": {
      "get": {
        "tags": [
          "library"
        ],
        "summary": "도서 보관함 조회",
        "operationId": "get_library_library__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "shelf",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "reading|completed|rated|wishlist",
              "default": "reading",
              "title": "Shelf"
            },
            "description": "reading|completed|rated|wishlist"
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "latest|myRating|avgRating|title",
              "default": "latest",
              "title": "Sort"
            },
            "description": "latest|myRating|avgRating|title"
          },
          {
            "name": "my_rating_in",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "예: 5.0,4.5,4.0",
              "title": "My Rating In"
            },
            "description": "예: 5.0,4.5,4.0"
          },
          {
            "name": "avg_rating_min",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Avg Rating Min"
            }
          },
          {
            "name": "avg_rating_max",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Avg Rating Max"
            }
          },
          {
            "name": "year_bucket",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "2020+|2010s|2000s|1990s|1980s|1970s|pre1970",
              "title": "Year Bucket"
            },
            "description": "2020+|2010s|2000s|1990s|1980s|1970s|pre1970"
          },
          {
            "name": "categories_in",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "카테고리 다중 선택: SF,판타지",
              "title": "Categories In"
            },
            "description": "카테고리 다중 선택: SF,판타지"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LibraryResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/recommend/popular": {
      "get": {
        "tags": [
          "recommend"
        ],
        "summary": "인기순 추천: 최근 리뷰/평점 많은 순",
        "operationId": "popular_recommend_popular_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "description": "최근 기준 일수",
              "default": 30,
              "title": "Days"
            },
            "description": "최근 기준 일수"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecommendResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/recommend/trending-search": {
      "get": {
        "tags": [
          "recommend"
        ],
        "summary": "검색 순 추천: 전체 사용자 검색 히트 순 (집계 테이블 기반)",
        "operationId": "trending_search_recommend_trending_search_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "description": "최근 기준 일수",
              "default": 30,
              "title": "Days"
            },
            "description": "최근 기준 일수"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecommendResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/recommend/curations": {
      "get": {
        "tags": [
          "recommend"
        ],
        "summary": "테마별 큐레이션 20권씩",
        "operationId": "curations_recommend_curations_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurationsResponse"
                },
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/wishlist/": {
      "post": {
        "tags": [
          "wishlist"
        ],
        "summary": "위시리스트 추가 (book_id 또는 user_book_id 지원)",
        "operationId": "add_to_wishlist_wishlist__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Book Id"
            }
          },
          {
            "name": "user_book_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Book Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "wishlist"
        ],
        "summary": "내 위시리스트 조회",
        "operationId": "list_wishlist_wishlist__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/wishlist/{book_id}": {
      "delete": {
        "tags": [
          "wishlist"
        ],
        "summary": "Remove From Wishlist",
        "operationId": "remove_from_wishlist_wishlist__book_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                },
                "example": {
                  "detail": [
                    {
                      "loc": [
                        "body",
                        "field"
                      ],
                      "msg": "Invalid value",
                      "type": "value_error"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "meta"
        ],
        "summary": "Health",
        "operationId": "health_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    },
    "/health/db": {
      "get": {
        "tags": [
          "meta"
        ],
        "summary": "Health Db",
        "operationId": "health_db_health_db_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "ok": true
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Bad Request"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "detail": "Not Found"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AuthorItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "AuthorItem"
      },
      "BarcodeSearchResponse": {
        "properties": {
          "book": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BookResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "already_registered": {
            "type": "boolean",
            "title": "Already Registered",
            "default": false
          }
        },
        "type": "object",
        "title": "BarcodeSearchResponse"
      },
      "BookCreateRequest": {
        "properties": {
          "isbn": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 13
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "YYYY-MM-DD"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "원본 카테고리 문자열 예: 'Fiction / Romance / Contemporary'"
          },
          "total_pages": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Pages"
          },
          "authors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Authors",
            "default": []
          },
          "thumbnail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail"
          },
          "small_thumbnail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Small Thumbnail"
          },
          "google_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Google Rating"
          },
          "google_ratings_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Google Ratings Count"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "BookCreateRequest"
      },
      "BookDetailResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "total_pages": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Pages"
          },
          "thumbnail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail"
          },
          "small_thumbnail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Small Thumbnail"
          },
          "google_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Google Rating"
          },
          "google_ratings_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Google Ratings Count"
          },
          "authors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Authors",
            "default": []
          },
          "categories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Categories",
            "default": []
          },
          "average_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Rating"
          },
          "review_count": {
            "type": "integer",
            "title": "Review Count",
            "default": 0
          },
          "rating_histogram": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Rating Histogram",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "id",
          "isbn",
          "title",
          "publisher",
          "published_date",
          "language",
          "category",
          "total_pages"
        ],
        "title": "BookDetailResponse"
      },
      "BookLibraryItem": {
        "properties": {
          "book": {
            "$ref": "#/components/schemas/BookResponse"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "UserBook.status 또는 wishlist 지정"
          },
          "added_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Added At",
            "description": "보관함에 담긴 시점 (user_books.created_at / wishlist.created_at)"
          },
          "my_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "My Rating",
            "description": "사용자가 준 별점"
          },
          "avg_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Rating",
            "description": "전체 평균 별점"
          },
          "review_count": {
            "type": "integer",
            "title": "Review Count",
            "description": "리뷰 수",
            "default": 0
          },
          "progress_percent": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress Percent",
            "description": "읽은 페이지 기반 진행률 (0~100)"
          },
          "current_page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Page",
            "description": "현재 페이지(최근 이벤트의 page → 최근 세션 end_page → UserPage.max(end_page) 순으로 추론)"
          }
        },
        "type": "object",
        "required": [
          "book",
          "status"
        ],
        "title": "BookLibraryItem"
      },
      "BookRatingSummary": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "average_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Rating"
          },
          "review_count": {
            "type": "integer",
            "title": "Review Count"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "average_rating",
          "review_count"
        ],
        "title": "BookRatingSummary"
      },
      "BookResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "total_pages": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Pages"
          },
          "thumbnail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail"
          },
          "small_thumbnail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Small Thumbnail"
          },
          "google_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Google Rating"
          },
          "google_ratings_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Google Ratings Count"
          },
          "authors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Authors",
            "default": []
          },
          "categories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Categories",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "id",
          "isbn",
          "title",
          "publisher",
          "published_date",
          "language",
          "category",
          "total_pages"
        ],
        "title": "BookResponse"
      },
      "BookSearchResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BookResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "BookSearchResponse"
      },
      "BookmarkCreateRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo",
            "description": "선택 메모"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "page"
        ],
        "title": "BookmarkCreateRequest"
      },
      "BookmarkResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_book_id": {
            "type": "integer",
            "title": "User Book Id"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo"
          },
          "created_date": {
            "type": "string",
            "format": "date",
            "title": "Created Date"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_book_id",
          "page",
          "created_date"
        ],
        "title": "BookmarkResponse"
      },
      "CommentCreateRequest": {
        "properties": {
          "content": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "CommentCreateRequest"
      },
      "CommentResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "review_id": {
            "type": "integer",
            "title": "Review Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "review_id",
          "user_id",
          "content"
        ],
        "title": "CommentResponse"
      },
      "CurationItem": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/BookResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "title",
          "items"
        ],
        "title": "CurationItem"
      },
      "CurationsResponse": {
        "properties": {
          "curations": {
            "items": {
              "$ref": "#/components/schemas/CurationItem"
            },
            "type": "array",
            "title": "Curations"
          }
        },
        "type": "object",
        "required": [
          "curations"
        ],
        "title": "CurationsResponse"
      },
      "EmailCheckResponse": {
        "properties": {
          "exists": {
            "type": "boolean",
            "title": "Exists"
          },
          "available": {
            "type": "boolean",
            "title": "Available"
          }
        },
        "type": "object",
        "required": [
          "exists",
          "available"
        ],
        "title": "EmailCheckResponse"
      },
      "FAQCreate": {
        "properties": {
          "question": {
            "type": "string",
            "minLength": 1,
            "title": "Question"
          },
          "answer": {
            "type": "string",
            "minLength": 1,
            "title": "Answer"
          },
          "is_pinned": {
            "type": "boolean",
            "title": "Is Pinned",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "question",
          "answer"
        ],
        "title": "FAQCreate"
      },
      "FAQResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "question": {
            "type": "string",
            "title": "Question"
          },
          "answer": {
            "type": "string",
            "title": "Answer"
          },
          "is_pinned": {
            "type": "boolean",
            "title": "Is Pinned"
          }
        },
        "type": "object",
        "required": [
          "id",
          "question",
          "answer",
          "is_pinned"
        ],
        "title": "FAQResponse"
      },
      "GenreStat": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "review_count": {
            "type": "integer",
            "title": "Review Count"
          },
          "average_5": {
            "type": "number",
            "title": "Average 5"
          },
          "average_100": {
            "type": "integer",
            "title": "Average 100"
          }
        },
        "type": "object",
        "required": [
          "name",
          "review_count",
          "average_5",
          "average_100"
        ],
        "title": "GenreStat"
      },
      "GoogleImportRequest": {
        "properties": {
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn",
            "description": "ISBN-10 또는 ISBN-13 한 개"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query",
            "description": "일반 검색어 (isbn 없을 때 사용)"
          }
        },
        "type": "object",
        "title": "GoogleImportRequest"
      },
      "GoogleImportResult": {
        "properties": {
          "created": {
            "items": {
              "$ref": "#/components/schemas/BookResponse"
            },
            "type": "array",
            "title": "Created",
            "default": []
          },
          "skipped": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Skipped",
            "default": []
          },
          "updated": {
            "items": {
              "$ref": "#/components/schemas/BookResponse"
            },
            "type": "array",
            "title": "Updated",
            "default": []
          }
        },
        "type": "object",
        "title": "GoogleImportResult"
      },
      "GoogleQueryImportRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query",
            "description": "검색어"
          },
          "pages": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Pages",
            "description": "가져올 페이지 수 (startIndex 기반)",
            "default": 1
          },
          "page_size": {
            "type": "integer",
            "maximum": 40.0,
            "minimum": 1.0,
            "title": "Page Size",
            "description": "Google API maxResults (최대 40)",
            "default": 20
          },
          "start_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Start Index",
            "description": "시작 startIndex",
            "default": 0
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "description": "언어 코드 필터 (예: 'ko')"
          },
          "max_create": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Create",
            "description": "생성할 최대 도서 수 (초과 시 중단)"
          },
          "exclude_no_isbn": {
            "type": "boolean",
            "title": "Exclude No Isbn",
            "description": "ISBN 없는 항목은 건너뛰기",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "GoogleQueryImportRequest"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HighlightCreateRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "sentence": {
            "type": "string",
            "minLength": 1,
            "title": "Sentence"
          },
          "is_public": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Public",
            "default": false
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo",
            "description": "선택 메모"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "page",
          "sentence"
        ],
        "title": "HighlightCreateRequest"
      },
      "HighlightResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_book_id": {
            "type": "integer",
            "title": "User Book Id"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "sentence": {
            "type": "string",
            "title": "Sentence"
          },
          "is_public": {
            "type": "boolean",
            "title": "Is Public"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo"
          },
          "created_date": {
            "type": "string",
            "format": "date",
            "title": "Created Date"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_book_id",
          "page",
          "sentence",
          "is_public",
          "created_date"
        ],
        "title": "HighlightResponse"
      },
      "HighlightUpdateRequest": {
        "properties": {
          "sentence": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Sentence"
          },
          "is_public": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Public"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo"
          }
        },
        "type": "object",
        "title": "HighlightUpdateRequest"
      },
      "InsightTag": {
        "properties": {
          "label": {
            "type": "string",
            "title": "Label"
          },
          "weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Weight",
            "description": "0~1 가중치"
          }
        },
        "type": "object",
        "required": [
          "label",
          "weight"
        ],
        "title": "InsightTag"
      },
      "LibraryResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/BookLibraryItem"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "total",
          "items"
        ],
        "title": "LibraryResponse"
      },
      "LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "remember_me": {
            "type": "boolean",
            "title": "Remember Me",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest"
      },
      "NoteCreateRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "content"
        ],
        "title": "NoteCreateRequest"
      },
      "NoteResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_book_id": {
            "type": "integer",
            "title": "User Book Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "created_date": {
            "type": "string",
            "format": "date",
            "title": "Created Date"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_book_id",
          "content",
          "created_date"
        ],
        "title": "NoteResponse"
      },
      "NoteUpdateRequest": {
        "properties": {
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "NoteUpdateRequest"
      },
      "RatingBucket": {
        "properties": {
          "rating": {
            "type": "number",
            "title": "Rating"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "rating",
          "count"
        ],
        "title": "RatingBucket"
      },
      "RatingSummary": {
        "properties": {
          "average_5": {
            "type": "number",
            "title": "Average 5"
          },
          "average_100": {
            "type": "integer",
            "title": "Average 100"
          },
          "total_reviews": {
            "type": "integer",
            "title": "Total Reviews"
          },
          "most_frequent_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Frequent Rating"
          }
        },
        "type": "object",
        "required": [
          "average_5",
          "average_100",
          "total_reviews",
          "most_frequent_rating"
        ],
        "title": "RatingSummary"
      },
      "ReadingEventCreateRequest": {
        "properties": {
          "event_type": {
            "type": "string",
            "title": "Event Type",
            "description": "이벤트 타입: START, PAGE_TURN, PAUSE, RESUME, END"
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page",
            "description": "해당 이벤트에 관련된 페이지"
          },
          "occurred_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Occurred At",
            "description": "이벤트 발생 시각(미제공 시 서버 시간)"
          }
        },
        "type": "object",
        "required": [
          "event_type"
        ],
        "title": "ReadingEventCreateRequest"
      },
      "ReadingEventResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type"
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page"
          },
          "occurred_at": {
            "type": "string",
            "format": "date-time",
            "title": "Occurred At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "event_type",
          "page",
          "occurred_at"
        ],
        "title": "ReadingEventResponse"
      },
      "ReadingSessionEndRequest": {
        "properties": {
          "end_page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Page",
            "description": "종료 페이지"
          },
          "total_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Seconds",
            "description": "총 독서 시간(초)"
          }
        },
        "type": "object",
        "title": "ReadingSessionEndRequest"
      },
      "ReadingSessionResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "start_page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Page"
          },
          "end_page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Page"
          },
          "total_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Seconds"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/ReadingEventResponse"
            },
            "type": "array",
            "title": "Events",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "book_id",
          "start_time",
          "end_time",
          "start_page",
          "end_page",
          "total_seconds"
        ],
        "title": "ReadingSessionResponse"
      },
      "ReadingSessionStartRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id",
            "description": "읽는 책 ID"
          },
          "start_page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Page",
            "description": "시작 페이지 (미제공 시 서버가 최근 읽은 페이지로 자동 설정: 최근 이벤트 페이지→최근 세션 end_page→없으면 1)"
          }
        },
        "type": "object",
        "required": [
          "book_id"
        ],
        "title": "ReadingSessionStartRequest"
      },
      "ReadingTime": {
        "properties": {
          "total_seconds": {
            "type": "integer",
            "title": "Total Seconds"
          },
          "human": {
            "type": "string",
            "title": "Human"
          }
        },
        "type": "object",
        "required": [
          "total_seconds",
          "human"
        ],
        "title": "ReadingTime"
      },
      "RecommendResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BookResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "RecommendResponse"
      },
      "RefreshRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshRequest"
      },
      "ResetConfirm": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "new_password": {
            "type": "string",
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "new_password"
        ],
        "title": "ResetConfirm"
      },
      "ResetRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ResetRequest"
      },
      "ReviewCreateRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number",
                "multipleOf": 0.5,
                "maximum": 5.0,
                "minimum": 0.5
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "is_spoiler": {
            "type": "boolean",
            "title": "Is Spoiler",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "book_id"
        ],
        "title": "ReviewCreateRequest"
      },
      "ReviewResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_book_id": {
            "type": "integer",
            "title": "User Book Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "like_count": {
            "type": "integer",
            "title": "Like Count"
          },
          "is_spoiler": {
            "type": "boolean",
            "title": "Is Spoiler"
          },
          "created_date": {
            "type": "string",
            "format": "date",
            "title": "Created Date"
          },
          "is_my_review": {
            "type": "boolean",
            "title": "Is My Review",
            "default": false
          },
          "is_liked": {
            "type": "boolean",
            "title": "Is Liked",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_book_id",
          "user_id",
          "book_id",
          "rating",
          "content",
          "like_count",
          "is_spoiler",
          "created_date"
        ],
        "title": "ReviewResponse"
      },
      "ReviewUpdateRequest": {
        "properties": {
          "rating": {
            "anyOf": [
              {
                "type": "number",
                "multipleOf": 0.5,
                "maximum": 5.0,
                "minimum": 0.5
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "is_spoiler": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Spoiler"
          }
        },
        "type": "object",
        "title": "ReviewUpdateRequest"
      },
      "ReviewUpsertRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number",
                "multipleOf": 0.5,
                "maximum": 5.0,
                "minimum": 0.5
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "별점만 갱신 가능"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "코멘트는 선택사항"
          },
          "is_spoiler": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Spoiler",
            "description": "스포일러 여부(선택)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "book_id"
        ],
        "title": "ReviewUpsertRequest"
      },
      "SearchHistoryItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "query": {
            "type": "string",
            "title": "Query"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "query",
          "created_at"
        ],
        "title": "SearchHistoryItem"
      },
      "SearchLogRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SearchLogRequest"
      },
      "SearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 1,
            "title": "Query",
            "description": "검색 키워드"
          },
          "limit": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Limit",
            "default": 20
          },
          "save_history": {
            "type": "boolean",
            "title": "Save History",
            "description": "개인별 검색 기록 저장 여부",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SearchRequest"
      },
      "SearchResult": {
        "properties": {
          "books": {
            "items": {
              "$ref": "#/components/schemas/BookResponse"
            },
            "type": "array",
            "title": "Books",
            "default": []
          },
          "authors": {
            "items": {
              "$ref": "#/components/schemas/AuthorItem"
            },
            "type": "array",
            "title": "Authors",
            "default": []
          }
        },
        "type": "object",
        "title": "SearchResult"
      },
      "StatusUpdate": {
        "properties": {
          "user_book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Book Id"
          },
          "book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Id"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "READING, COMPLETED, PENDING, ARCHIVED"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "StatusUpdate"
      },
      "TasteOptionsResponse": {
        "properties": {
          "categories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Categories"
          },
          "genres": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Genres"
          }
        },
        "type": "object",
        "required": [
          "categories",
          "genres"
        ],
        "title": "TasteOptionsResponse"
      },
      "TasteStatusResponse": {
        "properties": {
          "analyzed": {
            "type": "boolean",
            "title": "Analyzed"
          },
          "preferences": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserTasteResponse"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "analyzed"
        ],
        "title": "TasteStatusResponse"
      },
      "TasteSubmitRequest": {
        "properties": {
          "categories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Categories"
          },
          "genres": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Genres"
          }
        },
        "type": "object",
        "required": [
          "categories",
          "genres"
        ],
        "title": "TasteSubmitRequest"
      },
      "TicketAnswer": {
        "properties": {
          "reply": {
            "type": "string",
            "minLength": 1,
            "title": "Reply"
          },
          "close": {
            "type": "boolean",
            "title": "Close",
            "description": "답변 후 즉시 종료 처리 여부",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "reply"
        ],
        "title": "TicketAnswer"
      },
      "TicketCreate": {
        "properties": {
          "title": {
            "type": "string",
            "minLength": 1,
            "title": "Title"
          },
          "description": {
            "type": "string",
            "minLength": 1,
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "title": "TicketCreate"
      },
      "TicketResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "reply": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reply"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "title",
          "description",
          "status",
          "created_at"
        ],
        "title": "TicketResponse"
      },
      "TokenPair": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token"
        ],
        "title": "TokenPair"
      },
      "UserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "nickname": {
            "type": "string",
            "title": "Nickname"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "nickname",
          "password"
        ],
        "title": "UserCreate"
      },
      "UserInsightResponse": {
        "properties": {
          "analysis": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Analysis"
          },
          "tags": {
            "items": {
              "$ref": "#/components/schemas/InsightTag"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          }
        },
        "type": "object",
        "title": "UserInsightResponse"
      },
      "UserInsightUpsert": {
        "properties": {
          "analysis": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Analysis"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/InsightTag"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          }
        },
        "type": "object",
        "title": "UserInsightUpsert"
      },
      "UserRead": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "nickname": {
            "type": "string",
            "title": "Nickname"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "taste_analyzed": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Taste Analyzed"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "nickname",
          "id"
        ],
        "title": "UserRead"
      },
      "UserStatsResponse": {
        "properties": {
          "rating_distribution": {
            "items": {
              "$ref": "#/components/schemas/RatingBucket"
            },
            "type": "array",
            "title": "Rating Distribution"
          },
          "rating_summary": {
            "$ref": "#/components/schemas/RatingSummary"
          },
          "reading_time": {
            "$ref": "#/components/schemas/ReadingTime"
          },
          "top_level_genres": {
            "items": {
              "$ref": "#/components/schemas/GenreStat"
            },
            "type": "array",
            "title": "Top Level Genres"
          },
          "sub_genres": {
            "items": {
              "$ref": "#/components/schemas/GenreStat"
            },
            "type": "array",
            "title": "Sub Genres"
          }
        },
        "type": "object",
        "required": [
          "rating_distribution",
          "rating_summary",
          "reading_time",
          "top_level_genres",
          "sub_genres"
        ],
        "title": "UserStatsResponse"
      },
      "UserTasteResponse": {
        "properties": {
          "categories": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Categories"
          },
          "genres": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Genres"
          }
        },
        "type": "object",
        "required": [
          "categories",
          "genres"
        ],
        "title": "UserTasteResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ViewLogRequest": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          }
        },
        "type": "object",
        "required": [
          "book_id"
        ],
        "title": "ViewLogRequest"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
